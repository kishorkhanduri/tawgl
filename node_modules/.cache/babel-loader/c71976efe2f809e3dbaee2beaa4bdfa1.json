{"ast":null,"code":"import _regeneratorRuntime from\"D:/excercise-t/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(watchUserForget),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(forgetSaga);import{takeEvery,fork,put,all,call}from'redux-saga/effects';// Login Redux States\nimport{FORGET_USER}from'./actionTypes';import{forgetUserSuccessful,userForgetPasswordError}from'./actions';// AUTH related methods\nimport{postForgetPwd}from'../../../helpers/fackBackend_Helper';import{getFirebaseBackend}from\"../../../helpers/firebase_helper\";//Initilize firebase\nvar fireBaseBackend=getFirebaseBackend();//If user is login then dispatch redux action's are directly from here.\nfunction forgetUser(_ref){var _ref$payload=_ref.payload,user=_ref$payload.user,history=_ref$payload.history;return/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(process.env.REACT_APP_DEFAULTAUTH===\"firebase\")){_context.next=10;break;}_context.next=4;return call(fireBaseBackend.forgetPassword,user.useremail);case 4:response=_context.sent;if(!response){_context.next=8;break;}_context.next=8;return put(forgetUserSuccessful(\"Reset link are sended to your mailbox, check there first\"));case 8:_context.next=16;break;case 10:_context.next=12;return call(postForgetPwd,'/forget-pwd',{email:user.useremail});case 12:_response=_context.sent;if(!_response){_context.next=16;break;}_context.next=16;return put(forgetUserSuccessful(\"Reset link are sended to your mailbox, check there first\"));case 16:_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);_context.next=22;return put(userForgetPasswordError(_context.t0));case 22:case\"end\":return _context.stop();}},_callee,null,[[0,18]]);})();}export function watchUserForget(){return _regeneratorRuntime().wrap(function watchUserForget$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(FORGET_USER,forgetUser);case 2:case\"end\":return _context2.stop();}},_marked);}function forgetSaga(){return _regeneratorRuntime().wrap(function forgetSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return all([fork(watchUserForget)]);case 2:case\"end\":return _context3.stop();}},_marked2);}export default forgetSaga;","map":{"version":3,"names":["watchUserForget","_marked2","_regeneratorRuntime","mark","forgetSaga","takeEvery","fork","put","all","call","FORGET_USER","forgetUserSuccessful","userForgetPasswordError","postForgetPwd","getFirebaseBackend","fireBaseBackend","forgetUser","_ref","_ref$payload","payload","user","history","_callee","response","_response","wrap","_callee$","_context","prev","next","process","env","REACT_APP_DEFAULTAUTH","forgetPassword","useremail","sent","email","t0","stop","watchUserForget$","_context2","_marked","forgetSaga$","_context3"],"sources":["D:/excercise-t/src/store/auth/forgetpwd/saga.js"],"sourcesContent":["import { takeEvery, fork, put, all, call } from 'redux-saga/effects';\r\n\r\n// Login Redux States\r\nimport { FORGET_USER } from './actionTypes';\r\nimport { forgetUserSuccessful, userForgetPasswordError } from './actions';\r\n\r\n// AUTH related methods\r\nimport { postForgetPwd } from '../../../helpers/fackBackend_Helper';\r\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\r\n\r\n//Initilize firebase\r\nconst fireBaseBackend = getFirebaseBackend();\r\n\r\n//If user is login then dispatch redux action's are directly from here.\r\nfunction* forgetUser({ payload: { user, history } }) {\r\n        try {\r\n            if(process.env.REACT_APP_DEFAULTAUTH === \"firebase\"){\r\n                const response = yield call(fireBaseBackend.forgetPassword, user.useremail);\r\n                if (response) {\r\n                  yield put(\r\n                    forgetUserSuccessful(\r\n                      \"Reset link are sended to your mailbox, check there first\"\r\n                    )\r\n                  );\r\n                }\r\n            }else{\r\n                const response = yield call(postForgetPwd, '/forget-pwd', {email: user.useremail});\r\n                if (response) {\r\n                    yield put(\r\n                        forgetUserSuccessful(\r\n                        \"Reset link are sended to your mailbox, check there first\"\r\n                      )\r\n                    );\r\n                }\r\n            }            \r\n        } catch (error) {\r\n            yield put(userForgetPasswordError(error));\r\n        }\r\n}\r\n\r\nexport function* watchUserForget() {\r\n    yield takeEvery(FORGET_USER, forgetUser)\r\n}\r\n\r\nfunction* forgetSaga() {\r\n    yield all([fork(watchUserForget)]);\r\n}\r\n\r\nexport default forgetSaga;"],"mappings":"kKAwCiBA,eAAe,EAAAC,QAAA,cAAAC,mBAAA,GAAAC,IAAA,CAItBC,UAAU,EA5CpB,OAASC,SAAS,CAAEC,IAAI,CAAEC,GAAG,CAAEC,GAAG,CAAEC,IAAI,KAAQ,oBAAoB,CAEpE;AACA,OAASC,WAAW,KAAQ,eAAe,CAC3C,OAASC,oBAAoB,CAAEC,uBAAuB,KAAQ,WAAW,CAEzE;AACA,OAASC,aAAa,KAAQ,qCAAqC,CACnE,OAASC,kBAAkB,KAAQ,kCAAkC,CAErE;AACA,GAAM,CAAAC,eAAe,CAAGD,kBAAkB,CAAC,CAAC,CAE5C;AACA,QAAU,CAAAE,UAAUA,CAAAC,IAAA,MAAAC,YAAA,CAAAD,IAAA,CAAGE,OAAO,CAAIC,IAAI,CAAAF,YAAA,CAAJE,IAAI,CAAEC,OAAO,CAAAH,YAAA,CAAPG,OAAO,oBAAAnB,mBAAA,GAAAC,IAAA,UAAAmB,QAAA,MAAAC,QAAA,CAAAC,SAAA,QAAAtB,mBAAA,GAAAuB,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,QAEhCE,OAAO,CAACC,GAAG,CAACC,qBAAqB,GAAK,UAAU,GAAAL,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,GAC9B,MAAM,CAAApB,IAAI,CAACM,eAAe,CAACkB,cAAc,CAAEb,IAAI,CAACc,SAAS,CAAC,QAArEX,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,KACVZ,QAAQ,EAAAI,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,GACV,MAAM,CAAAtB,GAAG,CACPI,oBAAoB,CAClB,0DACF,CACF,CAAC,QAAAgB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAE,IAAA,IAGc,MAAM,CAAApB,IAAI,CAACI,aAAa,CAAE,aAAa,CAAE,CAACuB,KAAK,CAAEhB,IAAI,CAACc,SAAS,CAAC,CAAC,SAA5EX,SAAQ,CAAAI,QAAA,CAAAQ,IAAA,KACVZ,SAAQ,EAAAI,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,IACR,MAAM,CAAAtB,GAAG,CACLI,oBAAoB,CACpB,0DACF,CACF,CAAC,SAAAgB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAAAA,QAAA,CAAAE,IAAA,IAIT,MAAM,CAAAtB,GAAG,CAACK,uBAAuB,CAAAe,QAAA,CAAAU,EAAM,CAAC,CAAC,0BAAAV,QAAA,CAAAW,IAAA,MAAAhB,OAAA,sBAIrD,MAAO,SAAU,CAAAtB,eAAeA,CAAA,SAAAE,mBAAA,GAAAuB,IAAA,UAAAc,iBAAAC,SAAA,iBAAAA,SAAA,CAAAZ,IAAA,CAAAY,SAAA,CAAAX,IAAA,SAAAW,SAAA,CAAAX,IAAA,GAC5B,MAAM,CAAAxB,SAAS,CAACK,WAAW,CAAEM,UAAU,CAAC,yBAAAwB,SAAA,CAAAF,IAAA,MAAAG,OAAA,GAG5C,QAAU,CAAArC,UAAUA,CAAA,SAAAF,mBAAA,GAAAuB,IAAA,UAAAiB,YAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAAAc,SAAA,CAAAd,IAAA,GAChB,MAAM,CAAArB,GAAG,CAAC,CAACF,IAAI,CAACN,eAAe,CAAC,CAAC,CAAC,yBAAA2C,SAAA,CAAAL,IAAA,MAAArC,QAAA,GAGtC,cAAe,CAAAG,UAAU"},"metadata":{},"sourceType":"module"}