{"ast":null,"code":"var _toConsumableArray = require(\"D:/excercise-t/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar _classCallCheck = require(\"D:/excercise-t/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"D:/excercise-t/node_modules/@babel/runtime/helpers/createClass.js\").default;\n/*!\n* metismenujs - v1.4.0\n* MetisMenu: Collapsible menu plugin with Vanilla-JS\n* https://github.com/onokumus/metismenujs#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = \"undefined\" != typeof globalThis ? globalThis : t || self).MetisMenu = e();\n}(this, function () {\n  \"use strict\";\n\n  var t = {\n      parentTrigger: \"li\",\n      subMenu: \"ul\",\n      toggle: !0,\n      triggerElement: \"a\"\n    },\n    e = {\n      ACTIVE: \"mm-active\",\n      COLLAPSE: \"mm-collapse\",\n      COLLAPSED: \"mm-collapsed\",\n      COLLAPSING: \"mm-collapsing\",\n      METIS: \"metismenu\",\n      SHOW: \"mm-show\"\n    };\n  var s = /*#__PURE__*/function () {\n    function s(e, i) {\n      _classCallCheck(this, s);\n      this.element = s.isElement(e) ? e : document.querySelector(e), this.config = Object.assign(Object.assign({}, t), i), this.disposed = !1, this.triggerArr = [], this.boundEventHandler = this.clickEvent.bind(this), this.init();\n    }\n    _createClass(s, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var t = e.METIS,\n          _s = e.ACTIVE,\n          i = e.COLLAPSE;\n        this.element.classList.add(t);\n        var n = _toConsumableArray(this.element.querySelectorAll(this.config.subMenu));\n        0 !== n.length && n.forEach(function (t) {\n          t.classList.add(i);\n          var e = t.closest(_this.config.parentTrigger);\n          (null == e ? void 0 : e.classList.contains(_s)) ? _this.show(t) : _this.hide(t);\n          var n = null == e ? void 0 : e.querySelector(_this.config.triggerElement);\n          \"true\" !== (null == n ? void 0 : n.getAttribute(\"aria-disabled\")) && (null == n || n.setAttribute(\"aria-expanded\", \"false\"), null == n || n.addEventListener(\"click\", _this.boundEventHandler), _this.triggerArr.push(n));\n        });\n      }\n    }, {\n      key: \"clickEvent\",\n      value: function clickEvent(t) {\n        if (!this.disposed) {\n          var _e = null == t ? void 0 : t.currentTarget;\n          _e && \"A\" === _e.tagName && t.preventDefault();\n          var _s2 = _e.closest(this.config.parentTrigger),\n            i = null == _s2 ? void 0 : _s2.querySelector(this.config.subMenu);\n          this.toggle(i);\n        }\n      }\n    }, {\n      key: \"update\",\n      value: function update() {\n        this.disposed = !1, this.init();\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        var _this2 = this;\n        this.triggerArr.forEach(function (t) {\n          t.removeEventListener(\"click\", _this2.boundEventHandler);\n        }), this.disposed = !0;\n      }\n    }, {\n      key: \"on\",\n      value: function on(t, e, _s3) {\n        return this.element.addEventListener(t, e, _s3), this;\n      }\n    }, {\n      key: \"off\",\n      value: function off(t, e, _s4) {\n        return this.element.removeEventListener(t, e, _s4), this;\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(t, e) {\n        var _s5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n        var i = new CustomEvent(t, {\n          bubbles: _s5,\n          detail: e\n        });\n        this.element.dispatchEvent(i);\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle(t) {\n        var _s6 = t.closest(this.config.parentTrigger);\n        (null == _s6 ? void 0 : _s6.classList.contains(e.ACTIVE)) ? this.hide(t) : this.show(t);\n      }\n    }, {\n      key: \"show\",\n      value: function show(t) {\n        var _this3 = this;\n        var _s7;\n        var i = t,\n          n = e.ACTIVE,\n          l = e.COLLAPSE,\n          o = e.COLLAPSED,\n          r = e.COLLAPSING,\n          c = e.SHOW;\n        if (this.isTransitioning || i.classList.contains(r)) return;\n        var a = function a() {\n            i.classList.remove(r), i.style.height = \"\", i.removeEventListener(\"transitionend\", a), _this3.setTransitioning(!1), _this3.emit(\"shown.metisMenu\", {\n              shownElement: i\n            });\n          },\n          h = i.closest(this.config.parentTrigger);\n        null == h || h.classList.add(n);\n        var d = null == h ? void 0 : h.querySelector(this.config.triggerElement);\n        null == d || d.setAttribute(\"aria-expanded\", \"true\"), null == d || d.classList.remove(o), i.style.height = \"0px\", i.classList.remove(l), i.classList.remove(c), i.classList.add(r);\n        var g = [].slice.call(null === (_s7 = null == h ? void 0 : h.parentNode) || void 0 === _s7 ? void 0 : _s7.children).filter(function (t) {\n          return t !== h;\n        });\n        this.config.toggle && g.length > 0 && g.forEach(function (t) {\n          var e = t.querySelector(_this3.config.subMenu);\n          e && _this3.hide(e);\n        }), this.setTransitioning(!0), i.classList.add(l), i.classList.add(c), i.style.height = \"\".concat(i.scrollHeight, \"px\"), this.emit(\"show.metisMenu\", {\n          showElement: i\n        }), i.addEventListener(\"transitionend\", a);\n      }\n    }, {\n      key: \"hide\",\n      value: function hide(t) {\n        var _this4 = this;\n        var _s8 = e.ACTIVE,\n          i = e.COLLAPSE,\n          n = e.COLLAPSED,\n          l = e.COLLAPSING,\n          o = e.SHOW,\n          r = t;\n        if (this.isTransitioning || !r.classList.contains(o)) return;\n        this.emit(\"hide.metisMenu\", {\n          hideElement: r\n        });\n        var c = r.closest(this.config.parentTrigger);\n        null == c || c.classList.remove(_s8);\n        var a = function a() {\n          r.classList.remove(l), r.classList.add(i), r.style.height = \"\", r.removeEventListener(\"transitionend\", a), _this4.setTransitioning(!1), _this4.emit(\"hidden.metisMenu\", {\n            hiddenElement: r\n          });\n        };\n        r.style.height = \"\".concat(r.getBoundingClientRect().height, \"px\"), r.style.height = \"\".concat(r.offsetHeight, \"px\"), r.classList.add(l), r.classList.remove(i), r.classList.remove(o), this.setTransitioning(!0), r.addEventListener(\"transitionend\", a), r.style.height = \"0px\";\n        var h = null == c ? void 0 : c.querySelector(this.config.triggerElement);\n        null == h || h.setAttribute(\"aria-expanded\", \"false\"), null == h || h.classList.add(n);\n      }\n    }, {\n      key: \"setTransitioning\",\n      value: function setTransitioning(t) {\n        this.isTransitioning = t;\n      }\n    }], [{\n      key: \"attach\",\n      value: function attach(t, e) {\n        return new s(t, e);\n      }\n    }, {\n      key: \"isElement\",\n      value: function isElement(t) {\n        return Boolean(t.classList);\n      }\n    }]);\n    return s;\n  }();\n  return s;\n});","map":{"version":3,"sources":["../src/constant.ts","../src/metismenujs.ts"],"names":["Default","parentTrigger","subMenu","toggle","triggerElement","ClassName","ACTIVE","COLLAPSE","COLLAPSED","COLLAPSING","METIS","SHOW","MetisMenu","constructor","element","options","this","isElement","document","querySelector","config","Object","disposed","triggerArr","boundEventHandler","clickEvent","bind","init","static","el","opt","classList","add","uls","querySelectorAll","length","forEach","ul","li","closest","contains","show","hide","a","getAttribute","setAttribute","addEventListener","push","evt","target","currentTarget","tagName","preventDefault","update","dispose","arr","removeEventListener","on","evtType","handler","off","emit","evtData","shouldBubble","CustomEvent","bubbles","detail","dispatchEvent","isTransitioning","complete","remove","style","height","setTransitioning","shownElement","eleParentSiblins","slice","call","_a","parentNode","children","filter","c","sibli","sibUl","scrollHeight","showElement","hideElement","hiddenElement","getBoundingClientRect","offsetHeight","Boolean"],"mappings":"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","sourcesContent":["import { IMMOptions } from './interface.js';\n\nexport type MetisMenuEvents =\n  | 'show.metisMenu'\n  | 'shown.metisMenu'\n  | 'hide.metisMenu'\n  | 'hidden.metisMenu';\n\nexport const Default: IMMOptions = {\n  parentTrigger: 'li',\n  subMenu: 'ul',\n  toggle: true,\n  triggerElement: 'a',\n};\n\nexport const ClassName = {\n  ACTIVE: 'mm-active',\n  COLLAPSE: 'mm-collapse',\n  COLLAPSED: 'mm-collapsed',\n  COLLAPSING: 'mm-collapsing',\n  METIS: 'metismenu',\n  SHOW: 'mm-show',\n};\n","/* eslint-disable max-len */\nimport { ClassName, Default, MetisMenuEvents } from \"./constant.js\";\nimport { IMMOptions } from \"./interface.js\";\nimport {\n  CustomEventListener,\n  EventType,\n  SpecificEventListener,\n} from \"./types.js\";\n\nclass MetisMenu {\n  protected config: IMMOptions;\n\n  protected element: Element;\n\n  protected isTransitioning!: boolean;\n\n  protected disposed: boolean;\n\n  protected triggerArr: Array<Element>;\n\n  boundEventHandler: (evt?: Event) => void;\n\n  /**\n   * Creates an instance of MetisMenu.\n   *\n   * @constructor\n   * @param {Element | string} element\n   * @param {IMMOptions} [options]\n   * @memberof MetisMenu\n   */\n\n  constructor(element: Element | string, options?: IMMOptions) {\n    this.element = MetisMenu.isElement(element) ? element : document.querySelector<HTMLElement>(element)!;\n    this.config = { ...Default, ...options };\n    this.disposed = false;\n    this.triggerArr = [];\n    this.boundEventHandler = this.clickEvent.bind(this);\n    this.init();\n  }\n\n  static attach(el: Element, opt?: IMMOptions) {\n    return new MetisMenu(el, opt);\n  }\n\n  /**\n   * @internal\n   */\n  private init(): void {\n    const { METIS, ACTIVE, COLLAPSE } = ClassName;\n    this.element.classList.add(METIS);\n\n    const uls = [...this.element.querySelectorAll<HTMLElement>(this.config.subMenu!)];\n\n    if (uls.length === 0) {\n      return;\n    }\n\n    uls.forEach((ul: Element) => {\n      ul.classList.add(COLLAPSE!);\n      const li = ul.closest(this.config.parentTrigger!);\n\n      if (li?.classList.contains(ACTIVE!)) {\n        this.show(ul as HTMLElement);\n      } else {\n        this.hide(ul);\n      }\n\n      const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n      if (a?.getAttribute(\"aria-disabled\") === \"true\") {\n        return;\n      }\n\n      a?.setAttribute(\"aria-expanded\", \"false\");\n\n      a?.addEventListener(\"click\", this.boundEventHandler);\n      this.triggerArr.push(a!);\n    });\n  }\n  /**\n   * @internal\n   */\n\n  private clickEvent(evt?: Event) {\n    if (!this.disposed) {\n      const target = evt?.currentTarget as Element | null;\n      if (target && target.tagName === \"A\") {\n        evt!.preventDefault();\n      }\n\n      const li = target!.closest(this.config.parentTrigger!);\n      const ul = li?.querySelector(this.config.subMenu!);\n      this.toggle(ul!);\n    }\n  }\n\n  update() {\n    this.disposed = false;\n    this.init();\n  }\n\n  dispose() {\n    this.triggerArr.forEach((arr) => {\n      arr.removeEventListener(\"click\", this.boundEventHandler);\n    });\n    this.disposed = true;\n  }\n\n  on<K extends EventType>(\n    evtType: K,\n    handler: SpecificEventListener<K>,\n    options?: AddEventListenerOptions | boolean,\n  ): MetisMenu;\n\n  on<E extends Event>(\n    evtType: E,\n    handler: CustomEventListener<E>,\n    options?: AddEventListenerOptions | boolean,\n  ): MetisMenu;\n\n  on(\n    evtType: MetisMenuEvents,\n    handler: EventListener,\n    options?: AddEventListenerOptions | boolean,\n  ) {\n    this.element.addEventListener(evtType, handler, options);\n    return this;\n  }\n\n  off<K extends EventType>(\n    evtType: K,\n    handler: SpecificEventListener<K>,\n    options?: AddEventListenerOptions | boolean,\n  ): MetisMenu;\n\n  off<E extends Event>(\n    evtType: E,\n    handler: CustomEventListener<E>,\n    options?: AddEventListenerOptions | boolean,\n  ): MetisMenu;\n\n  off(\n    evtType: MetisMenuEvents,\n    handler: EventListener,\n    options?: AddEventListenerOptions | boolean,\n  ): MetisMenu {\n    this.element.removeEventListener(evtType, handler, options);\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  emit<T extends object>(\n    evtType: string,\n    evtData: T,\n    shouldBubble = false,\n  ): void {\n    const evt = new CustomEvent<T>(evtType, {\n      bubbles: shouldBubble,\n      detail: evtData,\n    });\n    this.element.dispatchEvent(evt);\n  }\n\n  /**\n   * @internal\n   */\n  toggle(ul: Element) {\n    const li = ul.closest(this.config.parentTrigger!);\n    if (li?.classList.contains(ClassName.ACTIVE)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  }\n\n  /**\n   * @internal\n   */\n  show(el: Element) {\n    const ul = el as HTMLElement;\n    const { ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW } = ClassName;\n\n    if (this.isTransitioning || ul.classList.contains(COLLAPSING!)) {\n      return;\n    }\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.style.height = \"\";\n      ul.removeEventListener(\"transitionend\", complete);\n      this.setTransitioning(false);\n      this.emit(\"shown.metisMenu\", {\n        shownElement: ul,\n      });\n    };\n\n    const li = ul.closest(this.config.parentTrigger!);\n    li?.classList.add(ACTIVE!);\n\n    const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n    a?.setAttribute(\"aria-expanded\", \"true\");\n    a?.classList.remove(COLLAPSED!);\n\n    ul.style.height = \"0px\";\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    ul.classList.add(COLLAPSING!);\n    const eleParentSiblins = [].slice.call(li?.parentNode?.children).filter((\n      c,\n    ) => c !== li);\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      eleParentSiblins.forEach((sibli: Element) => {\n        const sibUl = sibli.querySelector<HTMLElement>(this.config.subMenu!);\n        if (sibUl) {\n          this.hide(sibUl);\n        }\n      });\n    }\n\n    this.setTransitioning(true);\n\n    ul.classList.add(COLLAPSE!);\n    ul.classList.add(SHOW!);\n    ul.style.height = `${ul.scrollHeight}px`;\n    this.emit(\"show.metisMenu\", {\n      showElement: ul,\n    });\n    ul.addEventListener(\"transitionend\", complete);\n  }\n\n  /**\n   * @internal\n   */\n  hide(el: Element) {\n    const { ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW } = ClassName;\n    const ul = el as HTMLElement;\n    if (this.isTransitioning || !ul.classList.contains(SHOW!)) {\n      return;\n    }\n    this.emit(\"hide.metisMenu\", {\n      hideElement: ul,\n    });\n\n    const li = ul.closest(this.config.parentTrigger!);\n    li?.classList.remove(ACTIVE!);\n\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.classList.add(COLLAPSE!);\n      ul.style.height = \"\";\n      ul.removeEventListener(\"transitionend\", complete);\n      this.setTransitioning(false);\n      this.emit(\"hidden.metisMenu\", {\n        hiddenElement: ul,\n      });\n    };\n\n    ul.style.height = `${ul.getBoundingClientRect().height}px`;\n    ul.style.height = `${ul.offsetHeight}px`;\n\n    ul.classList.add(COLLAPSING!);\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    this.setTransitioning(true);\n\n    ul.addEventListener(\"transitionend\", complete);\n\n    ul.style.height = \"0px\";\n\n    const a = li?.querySelector(this.config.triggerElement!);\n    a?.setAttribute(\"aria-expanded\", \"false\");\n    a?.classList.add(COLLAPSED!);\n  }\n\n  /**\n   * @internal\n   */\n  private setTransitioning(isTransitioning: boolean) {\n    this.isTransitioning = isTransitioning;\n  }\n\n  /**\n   * @internal\n   */\n  static isElement(element: unknown): element is Element {\n    return Boolean((element as Element).classList);\n  }\n}\n\nexport default MetisMenu;\n"]},"metadata":{},"sourceType":"script"}