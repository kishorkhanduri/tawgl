{"ast":null,"code":"import _classCallCheck from\"D:/excercise-t/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/excercise-t/node_modules/@babel/runtime/helpers/esm/createClass.js\";import firebase from\"firebase/app\";// Add the Firebase products that you want to use\nimport\"firebase/auth\";import\"firebase/firestore\";var FirebaseAuthBackend=/*#__PURE__*/function(){function FirebaseAuthBackend(firebaseConfig){var _this=this;_classCallCheck(this,FirebaseAuthBackend);/**\r\n   * Registers the user with given details\r\n   */this.registerUser=function(email,password){return new Promise(function(resolve,reject){firebase.auth().createUserWithEmailAndPassword(email,password).then(function(user){resolve(firebase.auth().currentUser);},function(error){reject(_this._handleError(error));});});};/**\r\n   * Login user with given details\r\n   */this.loginUser=function(email,password){return new Promise(function(resolve,reject){firebase.auth().signInWithEmailAndPassword(email,password).then(function(user){resolve(firebase.auth().currentUser);},function(error){reject(_this._handleError(error));});});};/**\r\n   * forget Password user with given details\r\n   */this.forgetPassword=function(email){return new Promise(function(resolve,reject){firebase.auth().sendPasswordResetEmail(email,{url:window.location.protocol+\"//\"+window.location.host+\"/login\"}).then(function(){resolve(true);}).catch(function(error){reject(_this._handleError(error));});});};/**\r\n   * Logout the user\r\n   */this.logout=function(){return new Promise(function(resolve,reject){firebase.auth().signOut().then(function(){resolve(true);}).catch(function(error){reject(_this._handleError(error));});});};this.setLoggeedInUser=function(user){localStorage.setItem(\"authUser\",JSON.stringify(user));};/**\r\n   * Returns the authenticated user\r\n   */this.getAuthenticatedUser=function(){if(!localStorage.getItem(\"authUser\"))return null;return JSON.parse(localStorage.getItem(\"authUser\"));};if(firebaseConfig){// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);firebase.auth().onAuthStateChanged(function(user){if(user){localStorage.setItem(\"authUser\",JSON.stringify(user));}else{localStorage.removeItem(\"authUser\");}});}}_createClass(FirebaseAuthBackend,[{key:\"_handleError\",value:/**\r\n   * Handle the error\r\n   * @param {*} error\r\n   */function _handleError(error){// var errorCode = error.code;\nvar errorMessage=error.message;return errorMessage;}}]);return FirebaseAuthBackend;}();var _fireBaseBackend=null;/**\r\n * Initilize the backend\r\n * @param {*} config\r\n */var initFirebaseBackend=function initFirebaseBackend(config){if(!_fireBaseBackend){_fireBaseBackend=new FirebaseAuthBackend(config);}return _fireBaseBackend;};/**\r\n * Returns the firebase backend\r\n */var getFirebaseBackend=function getFirebaseBackend(){return _fireBaseBackend;};export{initFirebaseBackend,getFirebaseBackend};","map":{"version":3,"names":["firebase","FirebaseAuthBackend","firebaseConfig","_this","_classCallCheck","registerUser","email","password","Promise","resolve","reject","auth","createUserWithEmailAndPassword","then","user","currentUser","error","_handleError","loginUser","signInWithEmailAndPassword","forgetPassword","sendPasswordResetEmail","url","window","location","protocol","host","catch","logout","signOut","setLoggeedInUser","localStorage","setItem","JSON","stringify","getAuthenticatedUser","getItem","parse","initializeApp","onAuthStateChanged","removeItem","_createClass","key","value","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"sources":["D:/excercise-t/src/helpers/firebase_helper.js"],"sourcesContent":["import firebase from \"firebase/app\";\r\n\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nclass FirebaseAuthBackend {\r\n  constructor(firebaseConfig) {\r\n    if (firebaseConfig) {\r\n      // Initialize Firebase\r\n      firebase.initializeApp(firebaseConfig);\r\n      firebase.auth().onAuthStateChanged(user => {\r\n        if (user) {\r\n          localStorage.setItem(\"authUser\", JSON.stringify(user));\r\n        } else {\r\n          localStorage.removeItem(\"authUser\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registers the user with given details\r\n   */\r\n  registerUser = (email, password) => {\r\n    return new Promise((resolve, reject) => {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(\r\n          user => {\r\n            resolve(firebase.auth().currentUser);\r\n          },\r\n          error => {\r\n            reject(this._handleError(error));\r\n          }\r\n        );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Login user with given details\r\n   */\r\n  loginUser = (email, password) => {\r\n    return new Promise((resolve, reject) => {\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(\r\n          user => {\r\n            resolve(firebase.auth().currentUser);\r\n          },\r\n          error => {\r\n            reject(this._handleError(error));\r\n          }\r\n        );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * forget Password user with given details\r\n   */\r\n  forgetPassword = email => {\r\n    return new Promise((resolve, reject) => {\r\n      firebase\r\n        .auth()\r\n        .sendPasswordResetEmail(email, {\r\n          url: window.location.protocol + \"//\" + window.location.host + \"/login\"\r\n        })\r\n        .then(() => {\r\n          resolve(true);\r\n        })\r\n        .catch(error => {\r\n          reject(this._handleError(error));\r\n        });\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Logout the user\r\n   */\r\n  logout = () => {\r\n    return new Promise((resolve, reject) => {\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(() => {\r\n          resolve(true);\r\n        })\r\n        .catch(error => {\r\n          reject(this._handleError(error));\r\n        });\r\n    });\r\n  };\r\n\r\n  setLoggeedInUser = user => {\r\n    localStorage.setItem(\"authUser\", JSON.stringify(user));\r\n  };\r\n\r\n  /**\r\n   * Returns the authenticated user\r\n   */\r\n  getAuthenticatedUser = () => {\r\n    if (!localStorage.getItem(\"authUser\")) return null;\r\n    return JSON.parse(localStorage.getItem(\"authUser\"));\r\n  };\r\n\r\n  /**\r\n   * Handle the error\r\n   * @param {*} error\r\n   */\r\n  _handleError(error) {\r\n    // var errorCode = error.code;\r\n    var errorMessage = error.message;\r\n    return errorMessage;\r\n  }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config\r\n */\r\nconst initFirebaseBackend = config => {\r\n  if (!_fireBaseBackend) {\r\n    _fireBaseBackend = new FirebaseAuthBackend(config);\r\n  }\r\n  return _fireBaseBackend;\r\n};\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n  return _fireBaseBackend;\r\n};\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}